---
title: Web关闭页面发送Ajax请求
date: 2019-05-09 21:54:59
tags:
---

### 前言

&emsp;&emsp;简单的介绍一下项目需求，后台管系统退出登录的时候要给后台发送请求，所谓的打卡功能。你是不是会想seo easy~ 登出的时候先调一下打卡请求成功之后在调用logout()方法，no no no ! 这才是入坑的开始，正常的思路是规规矩矩的点击退出按钮，但是你要考虑退出系统有很多方式。

例如：

1、右上角的叉号X

2、浏览器页签的小叉号x

3、任务栏右键点击关闭

4、浏览器打开多个页面在重复1和2的步骤

5、强制关机，结束浏览器进程关闭页面

如上这些方式都需要给后台发送打卡请求！

这时候你肯定会想有事件啊，监听浏览器关闭的事件啊，对 没错就是这两个事件`beforeunload`和`unload`事件，下面我们就围绕这两个事件进行分析以及兼容性的处理

### onbeforeunload 事件



### onunload 事件